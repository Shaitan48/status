### Расчет Статуса Узла (PING)

Ключевым элементом визуализации является отображаемый статус узла. Для PING-проверок он определяется в модуле `services/node_service.py` на основе следующих данных:

1.  **`is_available`**: Последний известный результат выполнения PING-проверки (True - пинг прошел, False - не прошел, None - неизвестно).
2.  **Время последней проверки**: Используется `check_timestamp` (время выполнения на агенте), если оно доступно, иначе используется `checked_at` (время записи результата сервером).
3.  **Таймаут актуальности**: Значение `ping_timeout_minutes` из настроек (`settings`) или переопределенное свойством `timeout_minutes` для типа узла. По умолчанию - 5 минут.

Логика расчета:

*   **`available` (Зеленый):** `is_available` равно `True` И время последней проверки **не превышает** таймаут актуальности.
*   **`unavailable` (Красный):** `is_available` равно `False` (независимо от времени проверки).
*   **`warning` (Желтый):** `is_available` равно `True`, НО время последней проверки **превышает** таймаут актуальности.
*   **`unknown` (Серый):** Нет данных о PING-проверках (`is_available` равно `None`) ИЛИ произошла ошибка при обработке времени/статуса.